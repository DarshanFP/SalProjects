# Phase 0.5 — ArrayToScalarNormalizer

## Status
- [x] Implemented
- [ ] Deployed
- [x] Verified (local)

## Reference
- Plan: Phase_Wise_Refactor_Plan.md → Phase 0 → 0.5
- Error: Supports 0.3; shared defense for future fill() usage

## Changes
- **Files created**: `app/Support/Normalization/ArrayToScalarNormalizer.php`
- **What changed**: New static utility `forFillable(array $data, array $fillable): array`. For each key in `$fillable`, if value is array, sets to `reset($value)` or null. Prevents "Array to string conversion" when filling models from multi-step forms where other sections may submit array values (e.g. `family_contribution[]`).

## Verification
- Same as 0.3; IES Education Background saves.
- No direct user-visible change beyond 0.3.
- **Rollback**: If 0.3 regresses after this change, revert both 0.3 and 0.5.

## Date
- Implemented: 2026-02-07
- Verified (local): 2026-02-08
